<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë¯¸ë˜ì˜ ë‚˜ì—ê²Œ íƒ€ì„ìº¡ìŠ Q&A</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { background: #f5f6fa; font-family: 'Segoe UI', 'Pretendard', sans-serif; margin: 0; }
    .container {
      max-width: 420px; margin: 40px auto; background: #fff;
      border-radius: 20px; box-shadow: 0 6px 32px #dfe6e9;
      padding: 36px 24px 28px 24px;
      position: relative;
    }
    .capsule-emoji {
      font-size: 2.5em; text-align: center; display: block; margin-bottom: 8px;
      filter: drop-shadow(0 2px 6px #b2bec3);
    }
    h1 { text-align: center; color: #0984e3; margin-bottom: 8px; }
    .desc { text-align: center; color: #636e72; font-size: 1em; margin-bottom: 24px; }
    label { display: block; margin-top: 18px; font-weight: bold; color: #2d3436; }
    input, select, textarea {
      width: 100%; padding: 12px; margin-top: 6px; border-radius: 10px;
      border: 1.5px solid #b2bec3; font-size: 1em; box-sizing: border-box;
      background: #f9fafb; transition: border 0.2s, box-shadow 0.2s;
      outline: none;
    }
    input:focus, select:focus, textarea:focus {
      border: 1.5px solid #0984e3;
      box-shadow: 0 0 0 2px #d6eaff;
    }
    textarea { min-height: 80px; resize: vertical; }
    .hidden { display: none; }
    .btn {
      margin-top: 28px; width: 100%; background: linear-gradient(90deg, #0984e3, #74b9ff);
      color: #fff; border: none; padding: 15px; border-radius: 10px;
      font-size: 1.1em; font-weight: bold; cursor: pointer; transition: background 0.2s;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      box-shadow: 0 2px 8px #dfe6e9;
    }
    .btn:hover { background: linear-gradient(90deg, #74b9ff, #0984e3); }
    .footer { text-align: center; margin-top: 32px; color: #636e72; font-size: 0.95em; }
    @media (max-width: 500px) {
      .container { max-width: 98vw; padding: 18px 4vw 18px 4vw; }
    }
    .result-card {
      display: flex; flex-direction: column; align-items: center;
      background: #eafaf1; border: 2px solid #00b894;
      color: #00b894; border-radius: 14px; padding: 22px 12px 18px 12px;
      font-size: 1.15em; font-weight: bold; margin-top: 24px;
      box-shadow: 0 2px 12px #d0f5e6;
      animation: fadeIn 0.7s;
      position: relative;
    }
    .result-card .close-btn {
      position: absolute; top: 8px; right: 12px; background: none; border: none; color: #00b894; font-size: 1.2em; cursor: pointer;
    }
    .result-card .check {
      font-size: 2.2em; margin-bottom: 8px;
      filter: drop-shadow(0 2px 4px #b2f7cc);
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .error-card {
      background: #fff0f0; border: 2px solid #d63031; color: #d63031;
      box-shadow: 0 2px 12px #ffd6d6;
    }
  </style>
</head>
<body>
  <div class="container">
    <span class="capsule-emoji">ğŸ§­</span>
    <h1>íƒ€ì„ìº¡ìŠ Q&A</h1>
    <div class="desc">ë¯¸ë˜ì˜ ë‚˜ì—ê²Œ ì§ˆë¬¸ ë˜ëŠ” í¸ì§€ë¥¼ ë³´ë‚´ë³´ì„¸ìš”.<br>ì›í•˜ëŠ” ì‹œì ì— ì´ë©”ì¼ë¡œ ë„ì°©í•©ë‹ˆë‹¤!</div>
    <form id="capsuleForm">
      <label>íƒ€ì… ì„ íƒ</label>
      <select id="type" name="type" required onchange="onTypeChange()">
        <option value="ì§ˆë¬¸">ì§ˆë¬¸</option>
        <option value="í¸ì§€">í¸ì§€</option>
      </select>

      <div id="questionFields">
        <label for="contentQ">ë¯¸ë˜ì˜ ë‚˜ì—ê²Œ ì§ˆë¬¸</label>
        <textarea id="contentQ" name="contentQ" placeholder="6ê°œì›” ë’¤ì˜ ë‚˜ëŠ” ì´ ì§ˆë¬¸ì— ë­ë¼ê³  ëŒ€ë‹µí• ê¹Œ?"></textarea>
        <label for="answer">ì§€ê¸ˆì˜ ë‚˜ì˜ ì˜ˆìƒ ë‹µë³€</label>
        <textarea id="answer" name="answer" placeholder="ì§€ê¸ˆì˜ ë‚˜ëŠ” ì´ë ‡ê²Œ ìƒê°í•´ìš”."></textarea>
      </div>

      <div id="letterFields" class="hidden">
        <label for="contentL">ë¯¸ë˜ì˜ ë‚˜ì—ê²Œ í¸ì§€</label>
        <textarea id="contentL" name="contentL" placeholder="6ê°œì›” ë’¤ì˜ ë‚˜ëŠ” ì´ í¸ì§€ë¥¼ ì½ê³  ì–´ë–»ê²Œ ìƒê°í• ê¹Œ?"></textarea>
      </div>

      <label for="due">ë„ì°© ì‹œì </label>
      <select id="due" name="due" required>
        <option value="1ë¶„ í›„">1ë¶„ í›„(í…ŒìŠ¤íŠ¸ìš©)</option>
        <option value="3ê°œì›” í›„">3ê°œì›” í›„</option>
        <option value="6ê°œì›” í›„">6ê°œì›” í›„</option>
        <option value="1ë…„ í›„">1ë…„ í›„</option>
      </select>

      <label for="email">ì´ë©”ì¼ ì£¼ì†Œ</label>
      <input type="email" id="email" name="email" placeholder="your@email.com" required>

      <button type="submit" class="btn"><span>ğŸ“¨</span>íƒ€ì„ìº¡ìŠ ë³´ë‚´ê¸°</button>
      <div id="result"></div>
    </form>
  </div>
  <div class="footer">
    Â© 2025 ë¯¸ë˜ì˜ ë‚˜ì—ê²Œ íƒ€ì„ìº¡ìŠ Q&A
  </div>
  <script>
    function onTypeChange() {
      const type = document.getElementById('type').value;
      document.getElementById('questionFields').style.display = (type === 'ì§ˆë¬¸') ? 'block' : 'none';
      document.getElementById('letterFields').style.display = (type === 'í¸ì§€') ? 'block' : 'none';
    }
    onTypeChange();

    document.getElementById('capsuleForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const type = document.getElementById('type').value;
      const content = type === 'ì§ˆë¬¸'
        ? document.getElementById('contentQ').value.trim()
        : document.getElementById('contentL').value.trim();
      const answer = type === 'ì§ˆë¬¸' ? document.getElementById('answer').value.trim() : '';
      const due = document.getElementById('due').value;
      const email = document.getElementById('email').value.trim();

      if (!content || !email) {
        showResult('ë‚´ìš©ê³¼ ì´ë©”ì¼ì„ ëª¨ë‘ ì…ë ¥í•´ ì£¼ì„¸ìš”.', true);
        return;
      }

      try {
        const res = await fetch('https://star-g.store/webhook/timecapsule', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ type, content, answer, due, email })
        });
        if (res.ok) {
          showResult('íƒ€ì„ìº¡ìŠì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ë¯¸ë˜ì˜ ë‚˜ë¥¼ ê¸°ëŒ€í•´ë³´ì„¸ìš”.');
          document.getElementById('capsuleForm').reset();
          onTypeChange();
        } else {
          showResult('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.', true);
        }
      } catch (err) {
        showResult('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', true);
      }
    });

    function showResult(msg, isError) {
      const el = document.getElementById('result');
      el.innerHTML = isError
        ? `<div class="result-card error-card"><button class="close-btn" onclick="this.parentNode.remove()">Ã—</button>â—ï¸ ${msg}</div>`
        : `<div class="result-card"><button class="close-btn" onclick="this.parentNode.remove()">Ã—</button><span class="check">âœ…</span>${msg}</div>`;
    }
  </script>
</body>
</html> 